{% extends 'base.html' %}
{% load static from staticfiles %}
{% load i18n compressed %}

{% block extra-title %}{% trans "Edit" %} {{ object.title }} {% trans "by" %} {{ object.user }} | {% trans "Looks" %} | {% endblock %}

{% block body-classes %}look-editor-page widget-page look-editor-{{ component }}-page{% endblock %}

{% block full-body %}

    {% include "apparel/tools/widget_header.html" with type='look_editor' %}
    <div id="content">
        <div class="row content-row">
            <div class="col-md-6 col-widget">
                <div style="position: relative">
                    <div class="lookedit_toolbar">
                        <div class="section">
                            <a href="#" class="component_clone"><i class="fa fa-clone"></i> <span>{% trans "Clone" %}</span></a>
                        </div>
                        <div class="section">
                            <a href="#" class="component_forward"><i class="fa fa-share"></i> <span>{% trans "Forward" %}</span></a>
                        </div>
                        <div class="section">
                            <a href="#" class="component_back"><i class="fa fa-reply"></i> <span>{% trans "Back" %}</span></a>
                        </div>
                        <div class="section">
                            <a href="#" class="component_flip"><i class="fa fa-undo"></i> <span>{% trans "Flip" %}</span></a>
                        </div>
                        <div class="section">
                            <a href="#" class="component_delete"><i class="fa fa-times"></i> <span>{% trans "Delete" %}</span></a>
                        </div>
                    </div>
                </div>
                <div id="edit-look"></div>

            </div>
            <!--<div id="startsplash">{% trans "Start by adding products." %}</div>-->
            <div class="col-md-6 visible-md visible-lg">
                {% include "apparel/tools/product_picker.html" %}
            </div>
        </div>
    </div>

    {# Editor guide (steps) #}
    <div class="editor-guide collage-step-1">
        <img src="{% static 'images/guide-thumbnail.png' %}" width="128" height="128" alt="">
        <p>{% trans "Start by adding products here." %}</p>
        <span></span>
    </div>

    <div class="editor-guide collage-step-2">
        <p>{% trans "When you're done and want to save or publish, click here." %}</p>
        <span></span>
    </div>

    {% include "apparel/tools/widget_templates.html" with typename="look" %}

    {% include "apparel/tools/widget_footer.html" %}
    <script type="text/javascript">
        $(document).ready(function() {
            $('.add-item-col button').click(function() {
                $('.editor-guide').hide();
            });

            $('.btn-add').on('click', function() {
                $('#startsplash').hide();
            });

            $('body').on('click', '#image-form .btn', function() {
                $('.sidebar').css('display', 'block');
            });
        });

        var external_look_type = '{{ component }}';
        var external_look_id = {% if object %}{{ object.id }}{% else %}-1{% endif %};
        var external_has_liked = '{{ has_liked }}';
        var selected_gender = '{{ gender }}';
        var static_path = '{{ STATIC_URL }}';
    </script>

    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.9.2/jquery-ui.min.js"></script>
    {% compressed_js 'look_editor' %}

{% endblock %}

{% block pinterest-scripts %}{% endblock %}
