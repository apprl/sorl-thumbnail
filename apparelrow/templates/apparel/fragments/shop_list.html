{% load i18n apparel_extras %}
<ul class="shop-list list-unstyled row">
    {% for object in current_page.object_list %}
        <li class="shop col-sm-4">
            {% if object.widget_type %}
               <h4 class="shop-title"><a href="{% url 'edit-product-widget' object.pk %}">{{ object.title }}</a></h4>
                <div class="description">
                </div>

                <p>
                    {% trans "Product list" %}<br/>
                    {% if object.show_liked %}
                        {% trans 'Your saved products' %}
                    {% else %}
                       {% trans 'Contains' %} {{ object.products.count }} {% trans 'products' %}
                    {% endif %}
                    <br/>
                    {% trans 'Last modified' %}: {{ object.modified|since }}
                    <br/>
                    </p>
                <div class="btn-group">
                    <a class="btn btn-default" href="{% url 'edit-product-widget' object.pk %}"><i class="fa fa-pencil"></i> Edit</a>
                    <a class="btn btn-secondary" href="#" data-toggle="modal" data-productwidgetid="{{ object.pk }}" data-productwidgettitle="{{ object.title }}" data-target="#modal_productwidget_delete">Delete</a>
                </div>
                    <!--a class="btn btn-success" href="{% url 'edit-product-widget' object.pk %}">Edit</a>
                    <a class="btn btn-danger" href="#" data-toggle="modal" data-productwidgetid="{{ object.pk }}"
                    data-productiwidgettitle="{{ object.title }}" data-target="#modal_productwidget_delete">Delete</a -->
               {% else %}
                <h4><a href="{% url 'create-shop' object.pk %}">{{ object.title }}</a></h4>
                <div class="description"></div>
                <p>
                    {% trans "Shop" %}<br/>
                    {% if object.show_liked %}
                        {% trans 'Your saved products' %}
                    {% else %}
                       {% trans 'Contains' %} {{ object.products.count }} {% trans 'products' %}
                    {% endif %}
                    <br>
                    {% trans 'Last modified' %}: {{ object.created|since }}
                    <br>
                </p>
                <div class="btn-group">
                    <a class="btn btn-default" href="{% url 'create-shop' object.pk %}"><i class="fa fa-pencil"></i> Edit</a>
                    <a class="btn btn-secondary" href="#" data-toggle="modal" data-shopid="{{ object.pk }}" data-shoptitle="{{ object.title }}" data-target="#modal_shop_delete">Delete</a>
                </div>
           {% endif %} 
           </li>
        {% empty %}
    {% if current_page.number == 1 %}
    <li class="col-lg-12">{% trans "No results" %}</li>
    {% endif %}
    {% endfor %}
</ul>
<div class="pagination">
    {% include 'apparel/fragments/pagination.html' with request=request current_page=current_page only %}
</div>
{% include 'apparel/fragments/modal_shop_delete.html' %}
{% include 'apparel/fragments/modal_productwidget_delete.html' %}
