{% extends 'base.html' %}
{% load i18n apparel_extras %}

{% block extra-title %}{% if APPAREL_GENDER == 'M' %}{% trans "Looks Men" %}{% else %}{% trans "Looks Women" %}{% endif %} | {% endblock %}

{% block body-classes %}look-list{% endblock %}
{% block body %}
    <div class="row">
        <div class="col-lg-12">
            <div class="content-header">
                <h1><span class="icon-slash-a"></span>{% if APPAREL_GENDER == 'M' %}{% trans "Looks Men" %}{% else %}{% trans "Looks Women" %}{% endif %}</h1>
                <ul class="list-inline">
                    <li><h2><a{% if 'popular' not in request.path %} class="selected"{% endif %} href="{% gender_url APPAREL_GENDER 'look-list' %}">{% trans "Popular looks" %}</a></h2></li>
                    <li><h2><a{% if 'popular' in request.path %} class="selected"{% endif %} href="{% url 'popular-look-list' %}">{% trans "Popular looks in your network" %}</a></h2></li>
                </ul>
                {% include 'apparel/fragments/create_look_button.html' with extra_classes='pull-right' request=request only %}
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-lg-12">
            {% url 'look-list-men' as look_list_men %}
            {% url 'look-list-women' as look_list_women %}
            {% url 'popular-look-list' as popular_look_list_url %}
            {% if request.path == look_list_women or request.path == look_list_men or request.path == popular_look_list_url %}
            {% else %}
                {% if 'products/' in request.path %}
                <h2>{% trans "Showing" %} {% blocktrans count paginator.count as counter %}{{ counter }} look{% plural %}{{ counter }} looks{% endblocktrans %}</h2>
                {% else %}
                <h2>{% trans "Showing" %} '{{ query|escape }}', {% blocktrans count paginator.count as counter %}{{ counter }} look{% plural %}{{ counter }} looks{% endblocktrans %}</h2>
                {% endif %}
            {% endif %}

            {% if not user.is_authenticated and request.path == popular_look_list_url %}
                <div class="empty-content">
                    <p>{% trans "To see popular looks in your network you need to sign up." %}</p>
                    <a class="btn btn-upper btn-positive btn-signup" href="{% url 'auth_register' %}">{% trans "Sign up" %}</a>
                </div>
            {% else %}
                {% if not current_page.object_list and request.path == popular_look_list_url %}
                <div class="empty-content">
                    <p>{% trans "You currently don't follow anyone who has liked any looks, find friends to follow amoung our members." %}</p>
                    <a class="btn btn-upper" href="{% url 'user-list-popular' %}">{% trans "See all members" %}</a>
                </div>
                {% else %}
                    {% include 'apparel/fragments/look_list.html' %}
                {% endif %}
            {% endif %}
        </div>
    </div>
{% endblock body %}
