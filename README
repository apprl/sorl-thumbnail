== APPAREL ROW ==

= virtualenv =
virtualenv-2.6 --no-site-packages apparelrow
cd apparelrow
source bin/activate

= pip =
easy_install pip
pip install -r etc/requirements.pip # ... fika ...

= settings =
cp etc/logging.conf.default etc/logging.conf
cp apparelrow/development.py.default apparelrow/development.py

mkdir -p var/logs

= install compass =
apt-get install libcompass-ruby
cd apparelrow/media
compass compile

= build js =
cd apparelrow
./manage.py synccompress --settings development

= Set up database =
cd apparelrow
./manage.py syncdb --settings development
./manage.py migrate --settings development
./manage.py loaddata apparel/fixtures/* --settings development
./manage.py loaddata importer/fixtures/* --settings development

= Set up search (beta) =
wget http://apache.mirrors.spacedump.net//lucene/solr/3.2.0/apache-solr-3.2.0.tgz
tar zxvf apache-solr-3.2.0.tgz
mv ./etc/schema.xml apache-solr-3.2.0/example/solr/conf/schema.xml
cd apache-solr-3.2.0/example
java -jar start.jar
./manage.py rebuild_index --settings development

Now you can start django, either with the django-admin.py in bin, or the regular manage.py

= Directory Structure =
.               This directory
./bin           General scripts, such as the FCGI daemon controller
./apparelrow    Django application root directory
./conf          Non-Django related configuration files, such as webserver config
./docs          General documentation

= If rebuilding schema.xml =
./manage.py build_solr_schema --settings development > schema.xml
Replace field type with name slong with: 
    <fieldType name="slong" class="solr.TrieIntField" precisionStep="0" omitNorms="true" positionIncrementGap="0"/>

Field with name name should have type string not text 
